{% block content %}

    <!-- Категория расхода -->
    <div x-data="{ open: false, level: 0, path: [] }" class="relative w-full md:w-[28rem]">
        <button @click="open = !open"
                class="w-full
                           h-[40px] md:h-[56px]
                           text-left bg-white border border-gray-300
                           px-3 md:px-5 py-2 md:py-3
                           rounded-lg md:rounded-xl
                           shadow-sm hover:shadow-md transition
                           text-xs md:text-base font-medium
                           flex items-center">
            <template x-if="path.length === 0">
                <span>Выберите категорию расхода</span>
            </template>
            <template x-if="path.length > 0">
                <span id="category" x-text="path.join(' > ')"></span>
            </template>
        </button>

        <!-- Выпадающее меню -->
        <div x-show="open"
             @click.outside="open = false"
             class="absolute mt-2 w-full z-50 bg-white border border-gray-200
                        rounded-lg md:rounded-xl shadow-xl
                        p-3 md:p-4 space-y-3
                        max-h-[260px] md:max-h-[320px]
                        overflow-y-auto transition-all duration-300"
             x-transition>
            <div x-show="level > 0" class="mb-2">
                <button @click="level--; path.pop()"
                        class="text-xs md:text-sm text-blue-600 hover:underline">
                    ← Назад
                </button>
            </div>
            {{ categories_html|raw }}
        </div>
    </div>

{% endblock %}

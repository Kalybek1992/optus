{% extends './Navbar/Navbar.twig' %}

{% block content %}
    {% include './Breadcrumb/UnknownBankOrder.twig' %}

    <div class="flex flex-col space-y-2 my-8">
        <div class="w-full max-w-5xl mx-auto px-4 pb-16">
            <ul class="list bg-base-100 rounded-lg shadow-md space-y-4">
                <li class="relative p-4 bg-base-200 transition rounded-lg border border-gray-300">
                    <div class="flex flex-col space-y-2 my-8">
                        <div class="w-full max-w-5xl mx-auto px-4 pb-16">
                            <ul class="list bg-base-100 rounded-lg shadow-md space-y-4">
                                {% for order in bank_orders %}
                                    <li class="relative p-4 bg-base-200 transition rounded-lg border border-gray-300">
                                        <div class="space-y-4">
                                            <!-- Плательщик -->
                                            <div class="flex flex-col sm:flex-row sm:items-center text-sm text-base-content opacity-80">
                                                <span class="font-semibold text-gray-600 sm:mr-2 mb-1 sm:mb-0">Плательщик:</span>
                                                <div class="flex items-center">
                                                    <span class="font-mono font-bold text-black">{{ order.sender_company_name }}</span>
                                                    <button type="button" class="ml-2 text-gray-600 hover:text-gray-900"
                                                            onclick="copyText('{{ order.sender_company_name }}')">
                                                        <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                             stroke-width="2" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8l6 6v4"/>
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M14 2v6h6"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Банк плательщика -->
                                            <div class="flex flex-col sm:flex-row sm:items-center text-sm text-base-content opacity-80">
                                                <span class="font-semibold text-gray-600 sm:mr-2 mb-1 sm:mb-0">Банк плательщика:</span>
                                                <div class="flex items-center">
                                                    <span class="font-mono font-bold text-black">{{ order.sender_bank_name }}</span>
                                                    <button type="button" class="ml-2 text-gray-600 hover:text-gray-900"
                                                            onclick="copyText('{{ order.sender_bank_name }}')">
                                                        <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                             stroke-width="2" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8l6 6v4"/>
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M14 2v6h6"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Получатель -->
                                            <div class="flex flex-col sm:flex-row sm:items-center text-sm text-base-content opacity-80">
                                                <span class="font-semibold text-gray-600 sm:mr-2 mb-1 sm:mb-0">Получатель:</span>
                                                <div class="flex items-center">
                                                    <span class="font-mono font-bold text-black">{{ order.recipient_company_name }}</span>
                                                    <button type="button" class="ml-2 text-gray-600 hover:text-gray-900"
                                                            onclick="copyText('{{ order.recipient_company_name }}')">
                                                        <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                             stroke-width="2" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8l6 6v4"/>
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="M14 2v6h6"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Дата -->
                                            <div class="flex flex-col sm:flex-row sm:items-center text-sm text-base-content opacity-80">
                                                <span class="font-semibold text-gray-600 sm:mr-2 mb-1 sm:mb-0">Дата транзакции:</span>
                                                <span class="font-mono font-bold text-black">{{ order.date }}</span>
                                            </div>
                                            <!-- Номер документа -->
                                            <div class="flex flex-col sm:flex-row sm:items-center text-sm text-base-content opacity-80">
                                                <span class="font-semibold text-gray-600 sm:mr-2 mb-1 sm:mb-0">Номер документа:</span>
                                                <span class="font-mono font-bold text-black">{{ order.document_number }}</span>
                                            </div>
                                            <!-- Сумма + действия -->
                                            <div class="flex flex-col sm:flex-row sm:items-center sm:gap-6 gap-2 mt-2 text-sm">

                                                <!-- Сумма -->
                                                <div class="flex items-center text-gray-700 font-semibold bg-gray-100 rounded-lg px-3 py-2 w-fit">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                         viewBox="0 0 24 24" stroke-width="1.5"
                                                         stroke="currentColor" class="w-5 h-5 mr-2 text-gray-500">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                              d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"/>
                                                    </svg>
                                                    <span class="ml-2 font-mono">{{ order.amount|number_format(0, ',', ' ') }} ₽</span>
                                                </div>

                                                <!-- Действия — в колонку на мобилке -->
                                                <div class="flex flex-col sm:flex-row sm:items-center gap-2">
                                                    <a href="/entities/linkExpensesOrder?order_id={{ order.id }}"
                                                       class="text-blue-600 hover:underline font-bold">
                                                        Указать как расход
                                                    </a>

                                                    <a href="/entities/linkRemovalOrder?order_id={{ order.id }}"
                                                       class="text-blue-600 hover:underline font-bold">
                                                        Снятие денег
                                                    </a>
                                                </div>
                                            </div>
                                            <!-- Описание -->
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">Описание:</label>
                                                <textarea readonly rows="4"
                                                          class="textarea textarea-bordered w-full text-sm text-base-content italic">{{ order.description }}</textarea>
                                            </div>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>


    <div class="flex items-center justify-center py-6">
        {% include './Pagination/Pagination.twig' %}
    </div>

    <script src="/assets/js/CopyText.js?v=<?= time() ?>"></script>



{% endblock %}
